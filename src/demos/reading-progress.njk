---
layout: layouts/base.njk
title: Reading Progress
---
<div id="progress" style="position:fixed;top:0;left:0;height:4px;background:#09f;width:0;z-index:10"></div>
<main>
  <h2>Reading Progress</h2>
  <p>Scroll to see the progress bar fill.</p>
  <p style="height:200vh"></p>
</main>

{% block scripts %}
<script>
  const bar = document.getElementById('progress');
  const onScroll = () => {
    const s = scrollY;
    const h = document.documentElement.scrollHeight - innerHeight;
    bar.style.width = (h ? (s / h * 100) : 0) + '%';
  };
  addEventListener('scroll', onScroll, { passive: true });
  onScroll();
</script>
{% endblock %}
